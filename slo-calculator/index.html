<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLO Calculator - EmiraLabs</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="111.249 35.768 47.412 64.914" width="32" height="32">
                    <path d="M 121.737 75.641 L 120 65.793 L 149.91 60.519 L 149.91 70.673 Z" style="stroke-width: 1px; fill: white;"/>
                    <path d="M 120 91.931 L 130 90.157 L 130 64.03 L 120 65.793 Z" style="fill: white;"/>
                    <path d="M 120 49.763 L 130 48 L 130 48.03 L 149.91 44.519 L 149.91 54.673 L 121.737 59.641 L 121.735 59.627 L 120 59.933 Z" style="fill: white;"/>
                    <path d="M 139.831 62.296 L 139.831 72.45 L 129.831 74.214 L 129.831 64.06 Z" style="fill: white;"/>
                    <path d="M 139.831 62.296 L 139.831 72.45 L 129.831 74.214 L 129.831 64.06 Z" style="fill: white;"/>
                    <path d="M 139.846 72.501 L 139.847 62.224 L 139.976 62.201 L 149.688 70.745 L 139.846 72.501 Z" style="stroke-width: 1px; fill: white;"/>
                    <path d="M 120 60 L 120.001 49.723 L 120.13 49.7 L 129.842 58.244 L 120 60 Z" style="stroke-width: 1px; fill: white;"/>
                    <path d="M 140.021 78.38 L 149.636 86.839 L 149.833 86.804 L 149.833 76.65 Z" style="fill: white; stroke-width: 1px;"/>
                    <path d="M 135.9 79.139 L 135.9 89.293 L 149.733 86.854 L 149.733 76.7 L 135.9 79.139 Z" style="stroke-width: 1px; fill: white;"/>
                    <path d="M 140 78.43 L 149.615 86.889 L 149.812 86.854 L 149.812 76.7 L 140 78.43 Z" style="fill: white; stroke-width: 1px;"/>
                </svg>
                <span>EmiraLabs</span>
            </div>
            <div class="nav-links">
                <a href="../#tools">Tools</a>
                <a href="../#about">About</a>
                <a href="../#contribute">Contribute</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="gradient-text">SLO Calculator</span>
                <span class="hero-subtitle">SRE Tool</span>
            </h1>
            <p class="hero-description">
                Calculate Service Level Objectives and error budgets. Determine allowed downtime for your target uptime percentage over a specified period.
            </p>
        </div>
        <div class="hero-visual">
            <div class="floating-shapes">
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="shape shape-3"></div>
            </div>
        </div>
    </header>

    <main>
        <section class="calculator-section">
            <div class="container">
                <form id="sloForm" class="calculator-form">
                    <div class="form-row">
                        <input type="number" id="slo" min="0" max="100" step="0.01" placeholder="SLO % (e.g., 99.9)" class="form-input" required>
                        <input type="number" id="days" min="1" placeholder="Time Period (days, e.g., 30)" class="form-input" required>
                    </div>
                    <button type="submit" class="form-submit">Calculate <i class="fas fa-calculator"></i></button>
                </form>
                <div id="result" class="result-container"></div>
            </div>
        </section>

        <section class="documentation-section">
            <div class="container">
                <h2>Implementation Documentation</h2>
                <p>This SLO Calculator is implemented using pure JavaScript with no external dependencies. It calculates error budgets based on Service Level Objectives.</p>
                
                <h3>Step-by-Step Code Breakdown</h3>
                
                <h4>1. Input Validation</h4>
                <p>Validate that SLO is between 0 and 100, and days is positive:</p>
                <div class="code-snippet">
                    <pre><code>if (slo < 0 || slo > 100 || days <= 0) {
    return '&lt;p&gt;Invalid input values.&lt;/p&gt;';
}</code></pre>
                </div>
                
                <h4>2. Total Time Calculation</h4>
                <p>Calculate total time in minutes:</p>
                <div class="code-snippet">
                    <pre><code>const totalMinutes = days * 24 * 60;</code></pre>
                </div>
                
                <h4>3. Error Budget Calculation</h4>
                <p>Calculate allowed downtime in minutes:</p>
                <div class="code-snippet">
                    <pre><code>const allowedDowntimeMinutes = totalMinutes * (100 - slo) / 100;</code></pre>
                </div>
                
                <h4>4. Unit Conversions</h4>
                <p>Convert to different time units:</p>
                <div class="code-snippet">
                    <pre><code>const allowedDowntimeHours = allowedDowntimeMinutes / 60;
const allowedDowntimeDays = allowedDowntimeHours / 24;</code></pre>
                </div>
                
                <h3>How SLOs Work</h3>
                <p>Service Level Objectives (SLOs) define the target level of service reliability. They are typically expressed as a percentage of uptime over a time period.</p>
                
                <h4>Key Concepts:</h4>
                <ul>
                    <li><strong>SLO:</strong> The target percentage of time the service should be available (e.g., 99.9%)</li>
                    <li><strong>Error Budget:</strong> The amount of downtime allowed while still meeting the SLO (100% - SLO%)</li>
                    <li><strong>Burn Rate:</strong> How quickly you're consuming your error budget</li>
                </ul>
                
                <h4>Common SLO Targets:</h4>
                <div class="code-snippet">
                    <pre><code>99.9% (3 nines) - 8.77 hours downtime/month
99.95% (3.5 nines) - 2.16 hours downtime/month  
99.99% (4 nines) - 4.32 minutes downtime/month
99.999% (5 nines) - 26 seconds downtime/month</code></pre>
                </div>
                
                <h4>Calculation Formula:</h4>
                <p>Allowed Downtime = Total Time × (100% - SLO%) / 100%</p>
                
                <h4>Example:</h4>
                <p>For a 99.9% SLO over 30 days:</p>
                <ul>
                    <li>Total time: 30 × 24 × 60 = 43,200 minutes</li>
                    <li>Error budget: 0.1% = 43.2 minutes</li>
                    <li>Allowed downtime: 43.2 minutes ≈ 43 minutes 12 seconds</li>
                </ul>
                
                <h3>Practical Applications</h3>
                <ol>
                    <li><strong>Planning:</strong> Determine realistic uptime targets for your infrastructure</li>
                    <li><strong>Monitoring:</strong> Track actual uptime against SLO targets</li>
                    <li><strong>Incident Response:</strong> Know how much downtime you can afford before violating SLOs</li>
                    <li><strong>Budgeting:</strong> Allocate error budgets across different services or time periods</li>
                </ol>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="111.249 35.768 47.412 64.914" width="24" height="24">
                        <path d="M 121.737 75.641 L 120 65.793 L 149.91 60.519 L 149.91 70.673 Z" style="stroke-width: 1px; fill: rgb(25, 166, 162);"/>
                        <path d="M 120 91.931 L 130 90.157 L 130 64.03 L 120 65.793 Z" style="fill: rgb(15, 33, 81);"/>
                        <path d="M 120 49.763 L 130 48 L 130 48.03 L 149.91 44.519 L 149.91 54.673 L 121.737 59.641 L 121.735 59.627 L 120 59.933 Z" style="fill: rgb(25, 166, 162);"/>
                        <path d="M 139.831 62.296 L 139.831 72.45 L 129.831 74.214 L 129.831 64.06 Z" style="fill: rgb(15, 33, 81);"/>
                        <path d="M 139.831 62.296 L 139.831 72.45 L 129.831 74.214 L 129.831 64.06 Z" style="fill: rgb(25, 166, 162); fill-opacity: 0.5;"/>
                        <path d="M 139.846 72.501 L 139.847 62.224 L 139.976 62.201 L 149.688 70.745 L 139.846 72.501 Z" style="stroke-width: 1px; fill: rgb(15, 33, 81); fill-opacity: 0.25;"/>
                        <path d="M 120 60 L 120.001 49.723 L 120.13 49.7 L 129.842 58.244 L 120 60 Z" style="fill-opacity: 0.5; stroke-width: 1px; fill: rgb(15, 33, 81);"/>
                        <path d="M 140.021 78.38 L 149.636 86.839 L 149.833 86.804 L 149.833 76.65 Z" style="fill: rgb(25, 166, 162); stroke-width: 1px;"/>
                        <path d="M 135.9 79.139 L 135.9 89.293 L 149.733 86.854 L 149.733 76.7 L 135.9 79.139 Z" style="stroke-width: 1px; fill: rgb(15, 33, 81);"/>
                        <path d="M 140 78.43 L 149.615 86.889 L 149.812 86.854 L 149.812 76.7 L 140 78.43 Z" style="fill: rgb(25, 166, 162); stroke-width: 1px; fill-opacity: 0.5;"/>
                    </svg>
                    <span>EmiraLabs</span>
                </div>
                <p class="footer-text">Building the future of open source tools, one line of code at a time.</p>
                <p class="footer-copyright">&copy; 2025 EmiraLabs. Made with <i class="fas fa-heart"></i> for developers everywhere.</p>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('sloForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const slo = parseFloat(document.getElementById('slo').value);
            const days = parseInt(document.getElementById('days').value);
            
            const result = calculateSLO(slo, days);
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = result;
            resultDiv.classList.add('show');
        });

        function calculateSLO(slo, days) {
            if (slo < 0 || slo > 100 || days <= 0) {
                return '<p>Invalid input values.</p>';
            }
            
            const totalMinutes = days * 24 * 60;
            const allowedDowntimeMinutes = totalMinutes * (100 - slo) / 100;
            
            const allowedDowntimeHours = allowedDowntimeMinutes / 60;
            const allowedDowntimeDays = allowedDowntimeHours / 24;
            
            const minutes = Math.floor(allowedDowntimeMinutes);
            const seconds = Math.round((allowedDowntimeMinutes - minutes) * 60);
            
            return `
                <p><strong>Target SLO:</strong> ${slo}%</p>
                <p><strong>Time Period:</strong> ${days} days</p>
                <p><strong>Allowed Downtime:</strong> ${allowedDowntimeMinutes.toFixed(2)} minutes</p>
                <p><strong>Allowed Downtime:</strong> ${allowedDowntimeHours.toFixed(2)} hours</p>
                <p><strong>Allowed Downtime:</strong> ${allowedDowntimeDays.toFixed(2)} days</p>
                <p><strong>Readable Format:</strong> ${minutes}m ${seconds}s</p>
            `;
        }
    </script>
</body>
</html>